{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.0/css/all.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/style2.css' %}">
    <title>{% block title %}App cocina{% endblock %}</title>
    {% block extra_styles %}
    {% endblock %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
</head>

<body class="background">
    <header>
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
                <a class="navbar-brand d-flex align-items-center" href="#">
                    {% if request.session.role == 'admin' %}
                    <span>
                        <i class="fas fa-user-shield" style="height: 30px; width: 30px;"></i> <!-- Ícono de Font Awesome -->
                        {{ request.session.role|capfirst }} <!-- Nombre del rol -->
                    </span>
                    {% elif request.session.role == 'cocinero' %}
                    <span class="icon-rol icon-hover">
                        <svg width="30" height="30" viewBox="0 0 960 960" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M462.845 238.751c145.427-179.69 405.347 76.023 200.222 215.081 41.857 66.349 118.743 223.222 31.023 279.261-86.923 52.093-187.687 97.511-290.944 88.065-78.146-9.049-81.29-97.226-94.929-158.281-7.997-37.847-12.263-76.461-20.967-114.108-185.842 38.888-210.26-171.768-52.522-230.389 2.041-.635 4.334-2.938 5.053-4.979 27.862-92.683 144.835-127.106 223.064-74.65zm-174.049 72.517c23.535-.239 101.743 21.666 78.072 55.657-5.695 6.972-15.091 9.098-23.849 5.26-60.709-38.01-141.817-8.616-162.598 59.838-27.926 98.665 131.398 90.291 160.849 21.27 12.777-25.509 51.166-13.601 44.724 14.758-9.533 26.926-31.634 47.059-55.468 61.768-8.128 4.929-.647 17.859-.073 25.448 12.319 50.052 21.731 100.748 31.915 151.268 1.069 5.416 3.026 7.521 8.946 7.557 104.953 1.301 210.843-27.413 293.825-93.774 16.935-13.812 17.243-13.54 10.911-34.444-7.013-23.154-14.55-46.553-30.771-64.795-10.942-12.305-17.813-26.407-25.674-40.248-1.901-4.836-3.964-6.919-9.601-5.272-25.12 6.207-50.66 6.315-76.165 3.24-30.449-3.606-27.601-46.894 3.54-46.522 93.068 16.952 191.637-63.886 139.928-156.227-35.29-55.147-124.353-75.255-176.28-15.881-14.049 10.559 26.782 35.07 20.61 90.725-1.006 13.11-11.407 22.665-23.441 22.591-14.265.195-24.71-14.122-23.609-28.674-3.811-92.113-145.647-113.575-185.791-33.543zM684.879 638.7c-93.47 69.065-197.995 101.093-313.583 100.668 27.11 87.603 199.842 4.794 255.14-19.583 32.249-15.659 64.449-40.487 58.443-81.085zM99.572 757.195c-25.72.047-30.915-27.22-14.316-41.003 32.209-25.417 60.106-57.976 96.923-76.69 18.251-8.549 35.021 13.281 23.695 29.317-25.776 29.859-59.497 52.386-88.376 79.278-6.07 5.239-12.489 9.32-17.926 9.098zM907.398 446.191c-.411 6.914-5.145 13.448-12.818 17.72-32.526 18.11-65.058 36.216-97.777 53.974-13.837 7.51-25.105 5.638-31.18-4.101-11.603-17.142 14.081-34.523 28.844-42.56 24.836-14.897 49.668-29.812 74.785-44.225 16.222-10.578 39.161-4.318 38.146 19.192zM359.597 150.197c.093 10.919-4.785 18.359-12.7 21.192-7.96 2.849-16.882.522-22.433-6.274-17.219-28.926-29.732-60.713-45.02-90.757-14.661-28.243 25.115-49.24 39.048-20.243 13.627 31.695 30.62 63.415 41.105 96.082zM871.006 775.347c-.105 21.67-25.783 26.58-40.949 14.282-12.542-6.906-25.08-13.821-37.533-20.887-10.884-5.159-20.341-15.727-15.029-28.33 2.851-7.652 10.298-12.732 18.856-12.296 22.914 3.372 42.508 18.769 63.457 28.058 7.585 4 11.226 11.248 11.198 19.173z" fill="white"/>
                        </svg>
                        {{ request.session.role|capfirst }} <!-- Nombre del rol -->
                    </span>
                    {% endif %}
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav mx-auto"> <!-- Usamos mx-auto para centrar el navbar -->
                        <li class="nav-item">
                            <a class="nav-link navbar-items-color" aria-current="page" href="{% url 'listar_recetas' %}">
                                <i class="fas fa-book"></i> Recetas
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link navbar-items-color" href="{% url 'stock' %}">
                                <i class="fas fa-boxes"></i> Stock
                            </a>
                        </li>
                        {% if request.session.role %}
                        {% else %}
                        <li class="nav-item">
                            <a class="nav-link navbar-items-color" href="{% url 'login' %}">Login</a>
                        </li>
                        {% endif %}
                        
                        <li class="nav-item">
                            <a class="nav-link navbar-items-color" href="{% url 'pedidos' %}">
                                <i class="fas fa-shopping-cart"></i> Pedidos
                            </a>
                        </li>

                        {% if request.session.role %}
                        <li class="nav-item">
                            <a class="nav-link navbar-items-color" href="{% url 'logout' %}">
                                <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                            </a>
                        </li>
                        {% else %}
                        {% endif %}
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <div class="content">
        {% block content %}
        <!-- Aquí va el contenido principal de la página -->
        {% endblock %}

        {% block script %}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
        </script>
        {% endblock %}

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

        {% if messages %}
        <script type="text/javascript">
            toastr.options = {
                "positionClass": "prueba", // Cambiar la posición
                "timeOut": "2500", // Tiempo en milisegundos antes de que el mensaje desaparezca
                "extendedTimeOut": "700", // Tiempo de espera al pasar el cursor por encima
                "closeButton": true, // Mostrar botón de cerrar
                "progressBar": true, // Mostrar barra de progreso
            };
            {% for message in messages %}
            {% if message.tags == "success" %}
            toastr.success("{{ message }}"); // Para un mensaje informativo
            {% elif message.tags == "error" %}
            toastr.error("{{ message }}", "Error");
            {% endif %}
            {% endfor %}
        </script>
        {% endif %}
    </div>
</body>

</html>